<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>타이베이 여행 | 계획은 가볍게, 타이베이는 깊게</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&amp;family=Noto+Sans+KR:wght@300;400;500;700;900&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    <script id="tailwind-config">
        tailwind.config = {
          darkMode: "class",
          theme: {
            extend: {
              colors: {
                "primary": "#13c8ec",
                "background-light": "#f6f8f8",
                "background-dark": "#101f22",
              },
              fontFamily: {
                "sans": ["Noto Sans KR", "Plus Jakarta Sans", "sans-serif"],
                "display": ["Noto Sans KR", "Plus Jakarta Sans", "sans-serif"]
              },
              borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
            },
          },
        }
    </script>
    <style type="text/tailwindcss">
        body { font-family: 'Noto Sans KR', sans-serif; }
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .ticket-cutout { position: relative; }
        .ticket-cutout::after { content: ''; position: absolute; left: -8px; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; background-color: #f6f8f8; border-radius: 50%; }
        .ticket-cutout::before { content: ''; position: absolute; right: -8px; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; background-color: #f6f8f8; border-radius: 50%; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #13c8ec40; border-radius: 10px; }
        .scroll-smooth { scroll-behavior: smooth; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 transition-colors duration-300 scroll-smooth">

<div class="w-full bg-orange-500 text-white py-3 px-6 flex items-center justify-center gap-4 sticky top-0 z-50 shadow-lg">
    <span class="material-symbols-outlined animate-pulse">warning</span>
    <p class="text-sm md:text-base font-bold tracking-wide">
        MRT 지연 안내: 타이베이 메인역 신호 점검으로 인해 블루라인이 약 10분 지연 운행되고 있습니다.
        <a class="underline ml-2 hover:opacity-80" href="#">대체 경로 확인하기</a>
    </p>
</div>

<header class="sticky top-12 z-50 w-full bg-white/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <div class="flex items-center gap-8">
                <div class="flex items-center gap-2 text-primary cursor-pointer" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                    <span class="material-symbols-outlined text-3xl">explore</span>
                    <h1 class="text-slate-900 dark:text-white text-xl font-black tracking-tight">타이베이 나우</h1>
                </div>
                <nav class="hidden md:flex items-center gap-6">
                    <a class="nav-link text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary text-sm font-bold transition-colors" href="#home">홈</a>
                    <a class="nav-link text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary text-sm font-bold transition-colors" href="#home">코스 메이커</a>
                    <a class="nav-link text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary text-sm font-bold transition-colors" href="#taipei-now">타이베이 나우</a>
                    <a class="nav-link text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary text-sm font-bold transition-colors" href="#home">로컬 인사이트</a>
                    <a class="nav-link text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary text-sm font-bold transition-colors" href="#my-trip">마이 트립</a>
                </nav>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden lg:flex items-center bg-slate-100 dark:bg-slate-800 rounded-lg px-3 py-1.5 border border-transparent focus-within:border-primary transition-all">
                    <span class="material-symbols-outlined text-slate-400 text-sm">search</span>
                    <input id="global-search" class="bg-transparent border-none focus:ring-0 text-sm w-40 placeholder:text-slate-400" placeholder="장소 검색..." type="text"/>
                </div>
                <button class="bg-primary hover:bg-primary/90 text-slate-900 font-bold py-2 px-5 rounded-lg text-sm transition-all">
                    로그인
                </button>
                <div class="size-9 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center overflow-hidden border border-slate-200 dark:border-slate-700">
                    <span class="material-symbols-outlined text-slate-500">account_circle</span>
                </div>
            </div>
        </div>
    </div>
</header>

<main>
    <!-- HOME SECTION -->
    <div id="home">
        <section class="relative h-[600px] flex items-center justify-center overflow-hidden">
            <div class="absolute inset-0 z-0">
                <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/60 z-10"></div>
                <img class="w-full h-full object-cover" alt="해질녘 타이베이 101의 시네마틱한 전경" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDu8f6go1Or0HqUMkuVGNzottPIfDSOiMz8qPaMDpjlgaJnvf0x36M0OEpILQawVvTrrmtbCNukIIbpacDtzny035cIt1sF3huEcgA77ZH-D57w1R4PP1FImWKdh3fOXzyQR5LE2EkwTLG8JPSs4nQFtXNkIiaQ46XHTq9YN6KJk9XIAi8RYsSXvRK9y4pHNcXWVz15EMHXX4gK67tN0wWpMKmbCD5qHjGqwUMsTwdgrlvWMohcA-bJ9_vTSLoWPBaqIAzgm5ZTy7OC"/>
            </div>
            <div class="relative z-20 text-center px-4 max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-black text-white mb-6 drop-shadow-lg leading-tight">
                    계획은 가볍게,<br class="md:hidden"/> 타이베이는 깊게
                </h1>
                <p class="text-lg md:text-xl text-white/90 mb-10 font-medium drop-shadow-md">
                    1원까지 딱 맞는 예산, 헤맬 일 없는 최적의 동선
                </p>
                <div class="flex flex-col md:flex-row gap-2 max-w-2xl mx-auto bg-white/10 backdrop-blur-md p-2 rounded-xl border border-white/20">
                    <div class="flex-1 flex items-center bg-white rounded-lg px-4 py-3">
                        <span class="material-symbols-outlined text-slate-400 mr-2">location_on</span>
                        <input class="w-full border-none focus:ring-0 text-slate-900 placeholder:text-slate-400 font-medium" placeholder="타이베이 어디로 떠나고 싶으신가요?" type="text"/>
                    </div>
                    <button class="bg-primary hover:scale-105 transition-transform text-slate-900 font-bold px-8 py-3 rounded-lg flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">search</span>
                        검색하기
                    </button>
                </div>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="flex items-end justify-between mb-8">
                <div>
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">trending_up</span>
                        실시간 인기 큐레이션
                    </h2>
                    <p class="text-slate-500 dark:text-slate-400 mt-2">현지인들이 추천하는 지금 가장 핫한 여행 코스입니다.</p>
                </div>
                <a class="text-primary font-bold hover:underline hidden sm:block" href="#">전체 보기</a>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8" id="curation-grid">
                <!-- Curation Cards -->
                <div class="curation-card group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all border border-slate-200 dark:border-slate-700" data-title="스린 야시장 먹거리 정복">
                    <div class="relative h-48 overflow-hidden">
                        <img class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="활기찬 스린 야시장 길거리 음식" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDZe4WxhmeCc38VV95ICzkKkgUDPkGTF6SU3oqC1f1EzsEkbPdW9yv4f8R8vVWfB87h9VU_qZdaSuBjIclE2y0V7TLMWJ4xyBD0RUKyhK3McWiYShrk4dWhiJIefW7VhK50zGbZ_8GquFtHBxSrf7sz01QV5zVsSW-ys-mDEs8aquGd4AugQgP4EcHVICRiCZz7RfCPrZepZpPDHL8NexBEXEWUNtRztVzoyAgkj9bkgqsxxsNTapLhq-8Oo_Q8zFP71_Rsll5_RcEn"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg">예산 약 4만원</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-primary transition-colors">스린 야시장 먹거리 정복</h3>
                        <p class="text-slate-500 dark:text-slate-400 text-sm mb-4 line-clamp-2">검증된 가격과 현지인 추천 맛집으로 구성된 완벽한 야시장 가이드입니다.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">schedule</span> 지금 인기
                            </span>
                            <span class="text-xs font-medium flex items-center gap-1">
                                <span class="material-symbols-outlined text-amber-400 text-sm">star</span> 4.9 (1.2k)
                            </span>
                        </div>
                    </div>
                </div>
                <div class="curation-card group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all border border-slate-200 dark:border-slate-700" data-title="시먼딩 미식 투어">
                    <div class="relative h-48 overflow-hidden">
                        <img class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="현대적인 시먼딩 밤거리" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC1Zb0mnEr-sUWE5LYgGQmCb_3jLqmmILPeTzaOCsdPlD8QbxA3kRB_Fsd34-PgZ8vBNBlzUXPDs2RBVuBD7Wxa6aNSI_Hhwhquz2QywZ_RvfBwgRKA8pbE-Lu3Eh_LMK9NeLYhMTiPjstuVZM1OWk_K-MDjs7AOuu04Xrh-0m1DP_k2tnexe_Zd7n_rENYTzUeWYozQCgAb0AXQGtiDkkOxt2RoMI_JDzGuyH-pz-pgExNIAYe5ZYtbVUlgYDJcu1MLpA_G7mH4P6H"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg">현지인 픽</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-primary transition-colors">시먼딩 미식 투어</h3>
                        <p class="text-slate-500 dark:text-slate-400 text-sm mb-4 line-clamp-2">대만의 하라주쿠, 시먼딩에서 버블티부터 곱창국수까지 숨은 맛집을 발견하세요.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">circle</span> 운영 중
                            </span>
                            <span class="text-xs font-medium flex items-center gap-1">
                                <span class="material-symbols-outlined text-amber-400 text-sm">star</span> 4.7 (850)
                            </span>
                        </div>
                    </div>
                </div>
                <div class="curation-card group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all border border-slate-200 dark:border-slate-700" data-title="베이터우 힐링 로드">
                    <div class="relative h-48 overflow-hidden">
                        <img class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" alt="베이터우 온천 증기" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCiZ9xfEL6WGUEV3ihPLCrn-24DedAt7UGwgDvT7u3QNorRjzMtNfAUGKqV49IxQ_xWd_s9QfD49UJ0reciOAZyk2-PMb3502xN3jDCNSqhnpZLQ68toHiVcH_XiLCscU0z-w3udsho5Hi0SrxR1F2P1juaR56otkdmCKKvYEl6RBJ97_RuGb7_-Nhc-29Gdq6JEVDgrWIc86lQ3RGhX0gMF1D8ugOlx0G8EjAOGigB1ZgvTVdLAyYHXOIQYgJiuun7VL7UiGEMqBhw"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-xs font-bold px-3 py-1 rounded-full shadow-lg">근교 여행</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-2 group-hover:text-primary transition-colors">베이터우 힐링 로드</h3>
                        <p class="text-slate-500 dark:text-slate-400 text-sm mb-4 line-clamp-2">온천 박물관, 지열곡, 그리고 로컬 스파를 포함한 하루 힐링 코스입니다.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">verified</span> 높은 만족도
                            </span>
                            <span class="text-xs font-medium flex items-center gap-1">
                                <span class="material-symbols-outlined text-amber-400 text-sm">star</span> 5.0 (2k+)
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="bg-white dark:bg-slate-900 py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                    <div>
                        <h2 class="text-3xl md:text-4xl font-extrabold mb-6 leading-tight">
                            <span class="text-primary">스마트 경로 &amp; 예산 관리</span>로 여행을 최적화하세요
                        </h2>
                        <p class="text-lg text-slate-600 dark:text-slate-400 mb-8 font-medium">
                            계획은 더 이상 고민이 아닙니다. AI 기반 도구가 장소 간 가장 효율적인 경로를 계산하고 실시간 예산을 관리해 드립니다.
                        </p>
                        <ul class="space-y-4 mb-10">
                            <li class="flex items-start gap-3">
                                <div class="bg-primary/20 p-1 rounded-full">
                                    <span class="material-symbols-outlined text-primary text-xl">check_circle</span>
                                </div>
                                <span class="font-bold">실시간 교통비 계산 (MRT, 택시, 버스)</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <div class="bg-primary/20 p-1 rounded-full">
                                    <span class="material-symbols-outlined text-primary text-xl">check_circle</span>
                                </div>
                                <span class="font-bold">논리적 동선 분석으로 불필요한 이동 방지</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <div class="bg-primary/20 p-1 rounded-full">
                                    <span class="material-symbols-outlined text-primary text-xl">check_circle</span>
                                </div>
                                <span class="font-bold">일일 지출 알림 및 비용 최적화 팁 제공</span>
                            </li>
                        </ul>
                        <button class="bg-slate-900 dark:bg-primary dark:text-slate-900 text-white font-bold py-4 px-10 rounded-xl hover:scale-105 transition-all">
                            지금 바로 계획 시작하기
                        </button>
                    </div>
                    <div class="relative bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-700">
                        <div class="absolute top-0 right-0 p-6 z-10">
                            <div class="bg-white dark:bg-slate-700 rounded-xl p-4 shadow-lg w-48 border border-slate-200 dark:border-slate-600">
                                <p class="text-[10px] uppercase tracking-wider font-bold text-slate-400 mb-2">총 사용 예산</p>
                                <p class="text-2xl font-black text-slate-900 dark:text-white" id="total-budget-display">₩168,500</p>
                                <div class="mt-4 space-y-2">
                                    <div class="h-1.5 w-full bg-slate-100 dark:bg-slate-600 rounded-full overflow-hidden">
                                        <div class="bg-primary h-full transition-all duration-500" id="budget-progress-bar" style="width: 70%"></div>
                                    </div>
                                    <div class="flex justify-between text-[10px] font-bold">
                                        <span id="budget-percent-text">70% 사용됨</span>
                                        <span>₩250,000 제한</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="aspect-square w-full rounded-xl overflow-hidden bg-slate-200 dark:bg-slate-700 relative">
                            <img class="w-full h-full object-cover opacity-60" alt="타이베이 시내 거리의 미니멀한 지도" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAsZcUkssXljwFj0XnvqEVxb15Iuxf7zx3gOTMD6YvzKT7yGzNIDvZVjIIOGWJSkBvtsQmB7VomAY0PU5Z7rUeaRaxna5xhteR0Gi4Vtiy3Au4XkRtjEJ4YTJDP-XbWvTp5rZiHaD6Of6mj-jgdMkt3SilDpZdu2PXr-5ZJl26R3c0N9WrOYiHbXPko53fE2yHbfkV5EFca151_3-wLw9F4CxwF2pLO3rLFvRGyVhA3K-Qye4C5fgvomNPlF_S3v-qHKKtrNqhx1jRJ"/>
                            <svg class="absolute inset-0 w-full h-full" viewBox="0 0 400 400">
                                <path d="M100,100 L200,150 L250,300 L350,250" fill="none" stroke="#13c8ec" stroke-dasharray="8 4" stroke-width="4"></path>
                                <circle cx="100" cy="100" fill="#13c8ec" r="6"></circle>
                                <circle cx="200" cy="150" fill="#13c8ec" r="6"></circle>
                                <circle cx="250" cy="300" fill="#13c8ec" r="6"></circle>
                                <circle cx="350" cy="250" fill="#13c8ec" r="6"></circle>
                            </svg>
                            <div class="absolute bottom-6 left-6 right-6 bg-white/90 dark:bg-slate-900/90 backdrop-blur-sm p-4 rounded-xl border border-white/20">
                                <div class="flex items-center gap-4 mb-3">
                                    <div class="bg-primary/20 p-2 rounded-lg">
                                        <span class="material-symbols-outlined text-primary">restaurant</span>
                                    </div>
                                    <div>
                                        <p class="text-xs font-bold text-slate-400">다음 목적지</p>
                                        <p class="text-sm font-bold" id="next-destination-text">딘타이펑 (101 타워점)</p>
                                    </div>
                                    <div class="ml-auto text-right">
                                        <p class="text-xs font-bold text-primary">8분 거리</p>
                                        <p class="text-sm font-bold text-slate-400">MRT 레드라인</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- TAIPEI NOW SECTION -->
    <div id="taipei-now" class="w-full max-w-[1200px] mx-auto px-6 py-8 flex flex-col gap-10">
        <section>
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-black flex items-center gap-2">
                    <span class="material-symbols-outlined text-primary">local_fire_department</span>
                    이번 주 핫 이슈 &amp; 이벤트
                </h2>
                <div class="flex gap-2">
                    <button id="slider-prev" class="p-2 rounded-full border border-slate-200 hover:bg-white transition-all shadow-sm">
                        <span class="material-symbols-outlined text-sm">arrow_back</span>
                    </button>
                    <button id="slider-next" class="p-2 rounded-full border border-slate-200 hover:bg-white transition-all shadow-sm">
                        <span class="material-symbols-outlined text-sm">arrow_forward</span>
                    </button>
                </div>
            </div>
            <div id="event-slider" class="flex gap-6 overflow-x-auto hide-scrollbar pb-4 -mx-2 px-2">
                <!-- Event Cards -->
                <div class="min-w-[320px] md:min-w-[400px] bg-white dark:bg-slate-900 rounded-xl overflow-hidden shadow-md group border border-slate-100 dark:border-slate-800">
                    <div class="h-48 w-full relative overflow-hidden">
                        <img alt="Taipei Lantern Festival" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDUlYMgGfqZ_zU03XVTss2s1z-vC3HKBDZYoX8pbWOXzrV2ZunCdsZkxXUhxQiPTrw7doDXpjD6vClW7X0EQ8uUC5WbLgPononHZ_fjCMSF18J0zSc8tzZZH_Oy_icCrIbhx5Agbt4dK9rw1BBB50nBoIXAOBTJjD3ANl1VSI7M28BhZgazmJ4rhFMo4xdtuTXpQFLL7y_2mBX1qUtrF8kal8sPdIZkpaYs8tcLl94DNNfJAKPLXujZ3k1T2utHZwdcExMjAX8RpBr3"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-[10px] font-bold px-2 py-1 rounded tracking-wider">축제</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-1">2024 타이베이 등불 축제</h3>
                        <p class="text-slate-500 text-sm mb-4">시먼딩의 유서 깊은 거리들이 수천 개의 아름다운 등불로 물듭니다.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium text-slate-400 flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">calendar_today</span> 2월 28일 종료
                            </span>
                            <button class="text-primary font-bold text-sm flex items-center gap-1 hover:underline">
                                상세 정보 및 지도 <span class="material-symbols-outlined text-xs">open_in_new</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="min-w-[320px] md:min-w-[400px] bg-white dark:bg-slate-900 rounded-xl overflow-hidden shadow-md group border border-slate-100 dark:border-slate-800">
                    <div class="h-48 w-full relative overflow-hidden">
                        <img alt="Huashan 1914 Creative Park" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" src="https://lh3.googleusercontent.com/aida-public/AB6AXuC48N0YumB9eLxj7reGit4UNkfjUS7K5km63OQM2NHhBtlf5FPvC4W9u5WQYoTl_9EQQNtW_AmY7_BwauhNVYBhBnPwgCwKMkZ_PjE1mKwOb3h0zR8K2wz7Rs4iXZYOv1z2YdmZJm1GnFWGn7nEV-h7dskpdMud4786nSn7lrrT6kqq77kWk9sloNwcZ8SY-N_V-xVqnZfn7nLQKhKFAS5LscyHgAtSZTonDhNxhbC70dHXqcVOoeyac-8thWHN8YkCmHgsdIgnm_0S"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-[10px] font-bold px-2 py-1 rounded tracking-wider">라이프스타일</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-1">화산 1914 주말 팝업 스토어</h3>
                        <p class="text-slate-500 text-sm mb-4">창의문화원구에서 열리는 로컬 공예품과 핸드드립 커피, 길거리 음식 마켓.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium text-slate-400 flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">schedule</span> 토요일 - 일요일
                            </span>
                            <button class="text-primary font-bold text-sm flex items-center gap-1 hover:underline">
                                더 알아보기 <span class="material-symbols-outlined text-xs">open_in_new</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="min-w-[320px] md:min-w-[400px] bg-white dark:bg-slate-900 rounded-xl overflow-hidden shadow-md group border border-slate-100 dark:border-slate-800">
                    <div class="h-48 w-full relative overflow-hidden">
                        <img alt="National Palace Museum" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBq9MXi2B8l-dtdp3cNKU9EAC70uU1WHcfHp-Sl73_3oMBVOLdjHrq_lkhTgiKGLTDlc5cjr3Wt5m9a0pG9CH1Eo9RfMQCFsqmMVBveSUTAo3fdu9L3WJC2zm870nxk553eZrqvnZ3CEzer8deogOFOYOKrW3dU534883T1NRorJxufMr7K7AjF0m_jkzua0TJ7pfrr2wEJRNPTPzxbMNVFoeZlMSNYxuHqilM9NF-GVX_R49XBFhQ8VoMwGskhoGPxcDzjEqEuoL7D"/>
                        <div class="absolute top-4 left-4 bg-primary text-slate-900 text-[10px] font-bold px-2 py-1 rounded tracking-wider">컬처</div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-bold mb-1">국립고궁박물원 특별전</h3>
                        <p class="text-slate-500 text-sm mb-4">청나라 시대의 화려한 장신구와 보물들을 한시적으로 공개합니다.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-medium text-slate-400 flex items-center gap-1">
                                <span class="material-symbols-outlined text-xs">event</span> 이달의 전시
                            </span>
                            <button class="text-primary font-bold text-sm flex items-center gap-1 hover:underline">
                                티켓 예매하기 <span class="material-symbols-outlined text-xs">open_in_new</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Additional Taipei Now content truncated for brevity but maintained in state -->
    </div>

    <!-- MY TRIP SECTION -->
    <div id="my-trip" class="max-w-[1600px] mx-auto w-full p-6 gap-6 pb-24">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <!-- Flight, Hotel, Weather cards -->
            <div class="bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden">
                <div class="p-4 flex flex-col h-full justify-between">
                    <div class="flex justify-between items-start mb-2">
                        <span class="px-2 py-1 bg-primary/10 text-primary text-[10px] font-bold rounded uppercase tracking-wider">항공편 BR197</span>
                        <span class="material-symbols-outlined text-primary text-lg">flight_takeoff</span>
                    </div>
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-center">
                            <p class="text-xs text-slate-400 font-medium">인천(ICN)</p>
                            <p class="text-lg font-bold">09:30</p>
                        </div>
                        <div class="flex-1 flex flex-col items-center px-4">
                            <div class="w-full border-t-2 border-dashed border-slate-200 dark:border-slate-700 relative">
                                <span class="material-symbols-outlined absolute left-1/2 -top-2 -translate-x-1/2 text-xs text-slate-300">flight</span>
                            </div>
                            <p class="text-[10px] text-slate-400 mt-1">2시간 35분</p>
                        </div>
                        <div class="text-center">
                            <p class="text-xs text-slate-400 font-medium">타이베이(TPE)</p>
                            <p class="text-lg font-bold">11:05</p>
                        </div>
                    </div>
                    <div class="pt-2 border-t border-slate-100 dark:border-slate-800 flex justify-between items-center">
                        <p class="text-[10px] font-bold text-slate-500">게이트 D7 • 좌석 12A</p>
                        <p class="text-[10px] font-bold text-primary">예약번호 #AX7291B</p>
                    </div>
                </div>
            </div>
            <div class="bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden">
                <div class="p-4 flex flex-col h-full justify-between">
                    <div class="flex justify-between items-start mb-2">
                        <span class="px-2 py-1 bg-emerald-100 text-emerald-600 text-[10px] font-bold rounded uppercase tracking-wider">확정됨</span>
                        <span class="material-symbols-outlined text-emerald-500 text-lg">hotel</span>
                    </div>
                    <div>
                        <h3 class="font-bold text-sm truncate">그랜드 하얏트 타이베이</h3>
                        <p class="text-xs text-slate-500">타이베이시 신이구</p>
                    </div>
                    <div class="flex justify-between mt-4">
                        <div>
                            <p class="text-[10px] text-slate-400 font-medium">체크인</p>
                            <p class="text-sm font-bold">10월 12일, 15:00</p>
                        </div>
                        <div class="text-right">
                            <p class="text-[10px] text-slate-400 font-medium">객실</p>
                            <p class="text-sm font-bold">1002호</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="md:col-span-2 bg-gradient-to-br from-primary to-[#0eb0cf] rounded-xl shadow-sm overflow-hidden text-white">
                <div class="p-4 flex items-center justify-between h-full">
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="material-symbols-outlined text-3xl">partly_cloudy_day</span>
                            <div>
                                <h3 class="text-2xl font-extrabold">24°C</h3>
                                <p class="text-[10px] opacity-80 font-medium">오늘의 날씨: 타이베이</p>
                            </div>
                        </div>
                        <div class="mt-3 flex gap-4">
                            <div class="bg-white/20 rounded-lg p-2 flex-1">
                                <p class="text-[10px] font-bold uppercase opacity-80 mb-1">코디 추천</p>
                                <p class="text-xs font-semibold leading-tight">가벼운 린넨 셔츠와 휴대용 우산을 추천합니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flex-1 flex flex-col lg:flex-row gap-6 min-h-[500px]">
            <!-- Map (Simplified Placeholder) -->
            <div class="flex-[3] relative rounded-2xl overflow-hidden shadow-lg border border-slate-200 dark:border-slate-800 bg-slate-200">
                <div class="w-full h-full bg-[url('https://images.unsplash.com/photo-1533929736458-ca588d08c8be?q=80&w=1200&auto=format&fit=crop')] bg-cover bg-center"></div>
                <div class="absolute inset-0 bg-slate-900/10"></div>
                <!-- Dynamic markers could go here -->
            </div>

            <!-- Itinerary List -->
            <div class="flex-[2] flex flex-col bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden">
                <div class="p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center">
                    <h2 class="font-bold flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary">calendar_today</span>
                        일정: 1일차
                    </h2>
                </div>
                <div id="itinerary-list" class="flex-1 overflow-y-auto custom-scrollbar p-4 space-y-6 relative">
                    <!-- Items rendered via JS -->
                </div>
                <div class="p-4 bg-slate-50 dark:bg-slate-800/80 border-t border-slate-100 dark:border-slate-800">
                    <button id="add-place-btn" class="w-full py-2 bg-white dark:bg-slate-900 border-2 border-dashed border-primary/30 rounded-xl text-xs font-bold text-primary hover:bg-primary/10 transition-colors flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined text-sm">add_circle</span>
                        장소 추가하기
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- FOOTER -->
<footer class="bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pt-16 pb-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <p class="text-xs text-slate-400">© 2024 타이베이 나우 여행 플랫폼. All rights reserved.</p>
    </div>
</footer>

<!-- FIXED BUDGET FOOTER -->
<footer class="fixed bottom-0 left-0 right-0 z-[60] p-4 flex justify-center pointer-events-none">
    <div class="max-w-[1200px] w-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-xl border border-primary/20 shadow-2xl rounded-2xl p-4 flex flex-col md:flex-row items-center justify-between gap-6 pointer-events-auto">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-primary/20 rounded-xl text-primary">
                <span class="material-symbols-outlined">account_balance_wallet</span>
            </div>
            <div>
                <h4 class="text-[10px] font-extrabold uppercase text-slate-400 tracking-wider">실시간 예상 지출액</h4>
                <div class="flex items-baseline gap-2">
                    <span class="text-2xl font-black text-slate-900 dark:text-white tabular-nums" id="total-twd">0</span>
                    <span class="text-xs font-bold text-primary">TWD</span>
                    <span class="material-symbols-outlined text-slate-300 mx-1">sync_alt</span>
                    <span class="text-xl font-bold text-slate-500 tabular-nums" id="total-krw">0</span>
                    <span class="text-[10px] font-bold text-slate-400">KRW</span>
                </div>
            </div>
        </div>
        <div class="h-10 w-px bg-slate-200 dark:bg-slate-700 hidden md:block"></div>
        <div class="flex-1 flex gap-4 overflow-x-auto hide-scrollbar">
            <div class="flex flex-col min-w-[100px]">
                <span class="text-[9px] font-bold text-slate-400 uppercase mb-1">식비</span>
                <div class="w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full overflow-hidden">
                    <div id="bar-food" class="bg-amber-400 h-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            <div class="flex flex-col min-w-[100px]">
                <span class="text-[9px] font-bold text-slate-400 uppercase mb-1">교통</span>
                <div class="w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full overflow-hidden">
                    <div id="bar-transport" class="bg-primary h-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            <div class="flex flex-col min-w-[100px]">
                <span class="text-[9px] font-bold text-slate-400 uppercase mb-1">쇼핑/기타</span>
                <div class="w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full overflow-hidden">
                    <div id="bar-other" class="bg-pink-400 h-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </div>
        <button class="bg-primary text-white px-6 py-3 rounded-xl font-bold text-sm shadow-lg shadow-primary/20 hover:scale-105 transition-all whitespace-nowrap" onclick="alert('동선 최적화 엔진을 가동합니다!')">
            동선 최적화 실행
        </button>
    </div>
</footer>

<script>
    // --- STATE MANAGEMENT ---
    let tripItems = [
        { id: 1, time: '11:30 - 12:30', title: '공항 픽업 및 호텔 체크인', location: '그랜드 하얏트 타이베이', price: 0, category: 'transport' },
        { id: 2, time: '13:00 - 14:30', title: '딘타이펑 101점 점심 식사', location: '딘타이펑 101', price: 850, category: 'food' },
        { id: 3, time: '15:00 - 16:30', title: '타이베이 101 전망대', location: '타이베이 101', price: 600, category: 'culture' }
    ];
    const exchangeRate = 42.5;
    const budgetLimit = 10000; // TWD

    // --- DOM ELEMENTS ---
    const itineraryList = document.getElementById('itinerary-list');
    const totalTwdEl = document.getElementById('total-twd');
    const totalKrwEl = document.getElementById('total-krw');
    const barFood = document.getElementById('bar-food');
    const barTransport = document.getElementById('bar-transport');
    const barOther = document.getElementById('bar-other');
    const totalBudgetDisplay = document.getElementById('total-budget-display');
    const budgetProgressBar = document.getElementById('budget-progress-bar');
    const budgetPercentText = document.getElementById('budget-percent-text');
    const nextDestinationText = document.getElementById('next-destination-text');

    // --- FUNCTIONS ---
    function renderItinerary() {
        itineraryList.innerHTML = '';
        tripItems.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'relative pl-8 animate-in fade-in slide-in-from-left-4 duration-300';
            div.innerHTML = `
                <div class="absolute left-0 top-0 w-6 h-6 ${index === 0 ? 'bg-primary' : 'bg-slate-200 dark:bg-slate-800'} rounded-full flex items-center justify-center text-white text-[10px] font-bold z-10">${index + 1}</div>
                ${index < tripItems.length - 1 ? '<div class="absolute left-3 top-6 bottom-[-24px] w-0.5 border-l-2 border-dashed border-slate-200 dark:border-slate-800"></div>' : ''}
                <div class="bg-white dark:bg-slate-800/50 p-3 rounded-xl border border-slate-100 dark:border-slate-800 hover:border-primary/50 transition-colors group relative">
                    <button class="absolute -right-2 -top-2 size-6 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center shadow-lg" onclick="deleteItem(${item.id})">
                        <span class="material-symbols-outlined text-xs">close</span>
                    </button>
                    <div class="flex justify-between mb-1">
                        <span class="text-[10px] font-bold text-primary uppercase">${item.time}</span>
                        <span class="material-symbols-outlined text-slate-400 text-sm">drag_indicator</span>
                    </div>
                    <h4 class="text-sm font-bold">${item.title}</h4>
                    <p class="text-xs text-slate-500 mt-1 flex items-center gap-1">
                        <span class="material-symbols-outlined text-[14px]">map</span> ${item.location}
                    </p>
                    ${item.price > 0 ? `<div class="mt-2 text-[10px] font-bold text-slate-400">비용: ${item.price} TWD</div>` : ''}
                </div>
            `;
            itineraryList.appendChild(div);
        });
        updateBudget();
    }

    function updateBudget() {
        const totalTwd = tripItems.reduce((sum, i) => sum + i.price, 0);
        const totalKrw = Math.round(totalTwd * exchangeRate);

        totalTwdEl.textContent = totalTwd.toLocaleString();
        totalKrwEl.textContent = totalKrw.toLocaleString();
        totalBudgetDisplay.textContent = '₩' + totalKrw.toLocaleString();

        const foodTwd = tripItems.filter(i => i.category === 'food').reduce((s, i) => s + i.price, 0);
        const transportTwd = tripItems.filter(i => i.category === 'transport').reduce((s, i) => s + i.price, 0);
        const otherTwd = tripItems.filter(i => !['food', 'transport'].includes(i.category)).reduce((s, i) => s + i.price, 0);

        barFood.style.width = Math.min((foodTwd / (totalTwd || 1)) * 100, 100) + '%';
        barTransport.style.width = Math.min((transportTwd / (totalTwd || 1)) * 100, 100) + '%';
        barOther.style.width = Math.min((otherTwd / (totalTwd || 1)) * 100, 100) + '%';

        const percent = Math.min((totalTwd / budgetLimit) * 100, 100);
        budgetProgressBar.style.width = percent + '%';
        budgetPercentText.textContent = Math.round(percent) + '% 사용됨';

        if (tripItems.length > 0) {
            nextDestinationText.textContent = tripItems[tripItems.length - 1].title;
        }
    }

    window.deleteItem = (id) => {
        tripItems = tripItems.filter(i => i.id !== id);
        renderItinerary();
    };

    // --- EVENT LISTENERS ---
    document.getElementById('add-place-btn').addEventListener('click', () => {
        const title = prompt('추가할 장소 이름을 입력하세요:');
        if (title) {
            const price = parseInt(prompt('예상 비용(TWD)을 입력하세요:', '0')) || 0;
            tripItems.push({
                id: Date.now(),
                time: '18:00 - 19:30',
                title: title,
                location: '타이베이 시내',
                price: price,
                category: price > 500 ? 'food' : 'shopping'
            });
            renderItinerary();
        }
    });

    // Slider Logic
    const slider = document.getElementById('event-slider');
    document.getElementById('slider-next').onclick = () => slider.scrollBy({ left: 400, behavior: 'smooth' });
    document.getElementById('slider-prev').onclick = () => slider.scrollBy({ left: -400, behavior: 'smooth' });

    // Search Logic
    document.getElementById('global-search').addEventListener('input', (e) => {
        const term = e.target.value.toLowerCase();
        document.querySelectorAll('.curation-card').forEach(card => {
            const title = card.getAttribute('data-title').toLowerCase();
            card.style.display = title.includes(term) ? 'block' : 'none';
        });
    });

    // ScrollSpy Logic
    const sections = ['home', 'taipei-now', 'my-trip'];
    const navLinks = document.querySelectorAll('.nav-link');
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(id => {
            const section = document.getElementById(id);
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 150) {
                current = id;
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('text-primary');
            if (link.getAttribute('href') === `#${current}`) {
                link.classList.add('text-primary');
            }
        });
    });

    // --- INITIALIZE ---
    renderItinerary();
</script>

</body>
</html>
